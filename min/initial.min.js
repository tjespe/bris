var app=angular.module("app",["ngRoute"]);app.config(["$routeProvider","$locationProvider","$controllerProvider","$qProvider",function(c,h,e,n){c.when("/",{templateUrl:"src/views/home.html"}).when("/search",{templateUrl:"src/views/search.html"}).when("/:place",{templateUrl:"src/views/home.html"}).otherwise({redirectTo:"/"});h.html5Mode(!0);n.errorOnUnhandledRejections(!1);app._controller=app.controller;app.controller=function(b,c){e.register(b,c);return this}}]);app.controller("masterCtrl",["$http","$window","$rootScope","$scope","$location","$timeout","$injector","version","$httpx",function(c,h,e,n,b,k,l,d,f){function g(m){"undefined"!==typeof localStorage[m]?a.css+=localStorage[m]:f.get(m,{lifetime:864E6}).then(function(b){a.css+=b;localStorage[m]=b})}var a=this;a.data=[];a.fail=!1;a.weatherLoaded=function(){return 0<a.data.length};a.hideFlipDeviceTip=!0;a.online="onLine"in navigator&&navigator.onLine;a.lazyModulesLoaded=!1;a.css="";a.location="";a.recents=
{};a.domain=location.host;a.width=h.innerWidth;a.height=h.innerHeight;angular.element(h).bind("resize",function(){a.width=h.innerWidth;a.height=h.innerHeight});a.textData={};a.availableLangs=["en","no","es"];a.lang=navigator.language;window.location.href.includes("lang=")&&(a.lang=window.location.href.replace(/.+lang=/,""));a.lang="nb"==a.lang||"nn"==a.lang||a.lang.includes("no")?"no":a.lang;a.lang=-1<a.availableLangs.indexOf(a.lang)?a.lang:"en";f.get("src/js/objects/"+a.lang+"-text.json",{lifetime:864E6}).then(function(m){a.textData=
m})["catch"](function(a){confirm("Unable to load textdata, do you want to reload the page?")?location.reload(!0):null});"undefined"!==typeof Storage&&localStorage.hasOwnProperty("recents")&&(a.recents=JSON.parse(localStorage.recents));a.ifHome=function(){return"/"==b.path()};a.ifSearch=function(){return"/search"==b.path()};a.ifAt=function(a){return b.path()==a};a.goTo=function(a){b.path(a)};a.shorten=function(a){return"string"==typeof a&&null!==a.match(/\s.*/)?a.replace(/\s.*/,"").replace(/,.*/,""):
a};a.toggle=function(b,c){1<a.data[b].data[c].data.length&&(a.data[b].data[c].currently_summarized=!a.data[b].data[c].currently_summarized)};a.ifNoForeground=function(a){return"undefined"===typeof a.foreground||1>a.foreground.length};"undefined"!==typeof Storage&&"undefined"!==typeof localStorage.lazyModules&&localStorage.lmv==d?(eval(localStorage.lazyModules),a.lazyModulesLoaded=!0):c.get("min/lazy-modules.min.js?d="+Date.now()).then(function(b){eval(b.data);a.lazyModulesLoaded=!0;"undefined"!==
typeof Storage&&(localStorage.lazyModules=b.data,localStorage.lmv=d)});navigator.userAgent.includes("Speed Insights")||(navigator.onLine&&f.get("src/js/scripts/analytics.js",{lifetime:Infinity}).then(function(a){eval(a)}),g("min/main.min.css"),g("src/css/ubuntu.css"),g("src/css/glyphicons.min.css"));c=document.getElementsByClassName("content");for(i=0;i<c.length;i++)c[i].setAttribute("style","display:block")}]);app.service("$httpx",["$http","$q",function(c,h){var e=angular.extend({},c);e.get=function(e,b){var k=!1,l=0,d=h.defer();"undefined"===typeof b&&(b={});"lifetime"in b||(b.lifetime=0);"string"===typeof b.alt_urls&&(b.alt_urls=[b.alt_urls]);var f="undefined"===typeof b.alt_urls?[e]:b.alt_urls.push(e)&&b.alt_urls,g=b.timeout;"number"===typeof g?$timeout(function(){return d.reject("TIMED OUT")},g):"undefined"!==typeof g&&g["catch"](function(){return d.reject("CANCELLED")});b.timeout=d.promise;if("undefined"!==
typeof Storage&&f[0]in localStorage&&Number(localStorage[f[0]+"_expiry"])>Date.now())d.resolve(JSON.parse(localStorage[f[0]])),k=!0;else for(g=0;g<f.length;g++)b.withCredentials=f[g].includes("bris-cdn.cf"),c.get(f[g],b).then(function(a){k||d.resolve(a.data);k=!0;"undefined"!==typeof Storage&&(localStorage[f[0]]=JSON.stringify(a.data),localStorage[f[0]+"_expiry"]=Number(b.lifetime)+Date.now())}).then(function(a){l++;k||l!==f.length||("undefined"!==typeof Storage&&f[0]in localStorage?(d.resolve(localStorage[f[0]]),
k=!0):d.reject("ERROR"))});return d.promise};return e}]);app.directive("paraBack",["$window",function(c){return function(h,e,n){var b=this,k=720>window.innerWidth||/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;e.css("background-image","url("+n.paraBack+")");k||e.css("background-attachment","fixed");var l=new Image;l.src=n.paraBack;l.onload=function(){!k&&600<window.innerWidth?e.css("background-size",window.innerWidth+"px"):e.css("background-size",1.5*window.innerHeight+"px")};var d=function(){!k&&600<window.innerWidth&&e.css("background-size",
window.innerWidth+"px");k||e.css("background-position-y","-"+Math.floor(.15*b.pageYOffset)+"px")};angular.element(c).on("resize",d);angular.element(c).on("scroll",d);h.$on("$destroy",function(){angular.element(c).off("resize",d);angular.element(c).off("scroll",d)})}}]);app.value("version",118);